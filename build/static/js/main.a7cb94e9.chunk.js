(this["webpackJsonpgastronomia-pablo"]=this["webpackJsonpgastronomia-pablo"]||[]).push([[0],{57:function(e,t,c){},58:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),i=c(22),r=c.n(i),l=(c(57),c(58),c(7)),s=c(51),o=c(37),j=c(33),d=c(3),b=Object(n.createContext)([]),m=function(){return Object(n.useContext)(b)};var u=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(l.a)(c,2),i=a[0],r=a[1],s=function(e){if(o(e)){alert("\xbfEliminar item del carrito?");var t=i.findIndex((function(t){return t.item.id===e}));i.splice(t,1),r(Object(j.a)(i))}},o=function(e){return i.map((function(e){return e.item.id})).includes(e)};return Object(d.jsx)(b.Provider,{value:{cartList:i,addItem:function(e,t){o(e.id)||r([].concat(Object(j.a)(i),[{item:e,quantity:t}]))},removeItem:s,clear:function(){r([])},isInCart:o,itemCount:function(){var e=0;return i.forEach((function(t){e+=t.quantity})),e},editItemQuantity:function(e,t){if(t>0){var c=i.findIndex((function(t){return t.item.id===e})),n=i;n[c].quantity=t,r(Object(j.a)(n))}else s(e)},totalPrice:function(){var e=0;return i.forEach((function(t){e+=t.item.price*t.quantity})),e}},children:t})},h={position:"absolute",color:"white",top:2,right:10},O=function(){var e=m().itemCount;return Object(d.jsxs)("div",{children:[e()>0&&Object(d.jsx)("p",{style:h,children:e()}),Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-cart",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})})]})},x=c(34),f=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),c=t[0],a=t[1],i=m().itemCount;return Object(d.jsx)("nav",{className:"navbar navbar-inverse",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)("div",{className:"navbar-header",children:Object(d.jsx)(x.LinkContainer,{to:"/",children:Object(d.jsx)(s.a.Brand,{href:"#",to:"/",children:"Gastronomia PH"})})}),Object(d.jsxs)("ul",{className:"nav navbar-nav",children:[Object(d.jsx)("li",{onClick:function(){return a(1)},className:1===c?"active":"",children:Object(d.jsx)(x.LinkContainer,{to:"/category/estaca",children:Object(d.jsx)(o.a.Link,{to:"category/estaca",children:"Estaca"})})}),Object(d.jsx)("li",{onClick:function(){return a(2)},className:2===c?"active":"",children:Object(d.jsx)(x.LinkContainer,{to:"/category/parrilla",children:Object(d.jsx)(o.a.Link,{to:"category/parrilla",children:"Parrilla"})})}),Object(d.jsx)("li",{onClick:function(){return a(3)},className:3===c?"active":"",children:Object(d.jsx)(x.LinkContainer,{to:"/category/gourmet",children:Object(d.jsx)(o.a.Link,{to:"category/gourmet",children:"Gourmet"})})})]}),i()>0&&Object(d.jsx)("ul",{className:"nav navbar-nav navbar-right",children:Object(d.jsx)("li",{children:Object(d.jsx)(x.LinkContainer,{to:"/cart",children:Object(d.jsx)(o.a.Link,{to:"/cart",children:Object(d.jsx)(O,{})})})})})]})})},p=c(45),v=(c(46),p.a.initializeApp({apiKey:"AIzaSyD6o8BOXKjxgHH5cDt82MKTS_6e0-aK9ww",authDomain:"coderhouse-ph.firebaseapp.com",projectId:"coderhouse-ph",storageBucket:"coderhouse-ph.appspot.com",messagingSenderId:"747051918732",appId:"1:747051918732:web:0002cc1d270c89a21422a9",measurementId:"G-1NQSJE7GBV"}));v.firestore();function g(){return p.a.firestore(v)}var N=c(6),C=c(23);var y=function(e){var t=e.item;return Object(d.jsxs)("div",{className:"card w-50 mt-5 gridColumn",children:[Object(d.jsx)("div",{className:"card-header",children:t.title}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("img",{src:t.pictureUrl,width:250,height:250,alt:"pictureUrl"})}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("label",{children:t.price})}),Object(d.jsx)("div",{className:"card-footer",children:Object(d.jsx)(C.Link,{to:"/item/".concat(t.id),children:Object(d.jsx)("button",{className:"btn btn-outline-secondary btn-block gridColumnButton",children:"Detalle"})})})]},t.id)};var E=function(e){return e.items.map((function(e){return Object(d.jsx)(y,{item:e},e.id)}))};var k=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),r=Object(l.a)(i,2),s=r[0],o=r[1],j=Object(N.x)().id;return Object(n.useEffect)((function(){o(!0),g().collection("productos").get().then((function(e){a(j?e.docs.map((function(e){return e.data()})).filter((function(e){return e.category===j})):e.docs.map((function(e){return e.data()})))})).catch((function(e){console.log("Error searching products",e)})).finally((function(){o(!1)}))}),[j]),Object(d.jsx)(d.Fragment,{children:s?Object(d.jsx)("h1",{children:"Cargando..."}):Object(d.jsx)("div",{className:"ItemListContainer",children:Object(d.jsx)(E,{items:c})})})},w=c(27),L=c(75),I=c(76),S=function(e){var t=e.item,c=e.onCustomPress,a=Object(n.useState)(0),i=Object(l.a)(a,2),r=i[0],s=i[1],o=m().addItem;return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){r<5?s(r+1):alert("La cantidad supera el stock disponible")},children:"+"}),Object(d.jsx)("p",{children:r}),Object(d.jsx)("button",{onClick:function(){r>0&&s(r-1)},children:"-"}),0!==r&&Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){return s(r),o(t,r),void c()},children:"Agregar Carrito"})})]})},P=function(e){var t=e.item,c=Object(n.useState)(!1),a=Object(l.a)(c,2),i=a[0],r=a[1];return Object(d.jsxs)(L.a,{children:[Object(d.jsx)(I.a,{children:Object(d.jsxs)("div",{className:"card w-50",children:[Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("label",{children:t.title})}),Object(d.jsxs)("div",{className:"container",children:[t.pictureUrl&&Object(d.jsx)("img",{src:t.pictureUrl,width:400,height:400,alt:"pictureUrl"}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:t.description})]}),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("label",{children:t.price})})]})}),Object(d.jsx)(I.a,{children:i?Object(d.jsx)(C.Link,{to:"/cart",children:Object(d.jsx)(w.a,{children:"Termina tu compra"})}):Object(d.jsx)("div",{children:Object(d.jsx)(S,{onCustomPress:function(){r(!0)},item:t})})})]})};var B=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),r=Object(l.a)(i,2),s=r[0],o=r[1],j=Object(N.x)().id;return Object(n.useEffect)((function(){g().collection("productos").where("id","==",j).get().then((function(e){j&&a(e.docs.map((function(e){return e.data()}))[0])})).catch((function(e){console.log("Error searching products",e)})).finally((function(){o(!1)}))}),[j]),Object(d.jsx)(d.Fragment,{children:s?Object(d.jsx)("p",{children:"Cargando..."}):Object(d.jsx)(P,{item:c})})},D=c(12),H=c(4);var q=function(e){var t=e.item,c=m().editItemQuantity;return Object(d.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[t.item.title,Object(d.jsx)("span",{onClick:function(){c(t.item.id,0)},className:"badge badge-primary badge-pill",children:"Eliminar item"}),Object(d.jsx)("span",{onClick:function(){c(t.item.id,t.quantity+1)},className:"badge badge-primary badge-pill",children:"+"}),Object(d.jsx)("span",{className:"badge badge-pill",children:t.quantity}),Object(d.jsx)("span",{onClick:function(){c(t.item.id,t.quantity-1)},className:"badge badge-primary badge-pill",children:"-"}),Object(d.jsx)("span",{className:"badge badge-primary badge-pill",children:t.item.price*t.quantity})]})};var z=function(e){var t=e.items,c=m().totalPrice;return Object(d.jsxs)("ul",{className:"list-group",children:[t.length>0?t.map((function(e){return Object(d.jsx)(q,{item:e},e.item.id)})):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Sin items en la lista"}),Object(d.jsx)(C.Link,{to:"/",children:Object(d.jsx)(w.a,{children:"Go home"})})]}),t.length>0&&Object(d.jsxs)("label",{className:"mt-5",children:["TOTAL: ",c()]})]})},F=c(52),T=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)({name:"",Phone:"",Email:"",validateEmail:""}),r=Object(l.a)(i,2),s=r[0],o=r[1],j=function(e){e.preventDefault(),o(Object(H.a)(Object(H.a)({},s),Object(D.a)({},e.target.name,e.target.value)))},b=m(),u=b.cartList,h=b.totalPrice,O=b.clear;return Object(d.jsxs)("div",{className:"CartMain",children:[Object(d.jsx)("h1",{children:"Carrito"}),Object(d.jsx)("section",{children:""!==c&&Object(d.jsxs)("label",{children:["El id de su orden es: ",c]})}),u.length>0&&Object(d.jsx)("button",{onClick:function(){return O()},children:"Borrar Carrito"}),Object(d.jsx)(z,{items:u}),u.length>0&&""===c&&Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{className:"form",children:[Object(d.jsxs)("div",{className:"form-group row",children:[Object(d.jsx)("label",{className:"col-sm-2 col-form-label",children:"Name"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)("input",{className:"form-control",type:"text",name:"name",placeholder:"Nombre",value:s.name,onChange:j})})]}),Object(d.jsxs)("div",{className:"form-group row",children:[Object(d.jsx)("label",{className:"col-sm-2 col-form-label",children:"Phone"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)("input",{className:"form-control",type:"number",name:"Phone",placeholder:"Telefono",value:s.Phone,onChange:j})})]}),Object(d.jsxs)("div",{className:"form-group row",children:[Object(d.jsx)("label",{className:"col-sm-2 col-form-label",children:"Email"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)("input",{type:"email",className:"form-control",id:"inputEmail3",placeholder:"Email",name:"Email",value:s.Email,onChange:j})})]}),Object(d.jsxs)("div",{className:"form-group row",children:[Object(d.jsx)("label",{className:"col-sm-2 col-form-label",children:"validate-Email"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)("input",{type:"email",className:"form-control",id:"inputEmail3",name:"validateEmail",placeholder:"Confirmar Email",value:s.validateEmail,onChange:j})})]}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),s.Email===s.validateEmail&&""!==s.validateEmail&&function(){var e={};e.date=F.a.firestore.Timestamp.fromDate(new Date),e.buyer={nombre:s.name,email:s.Email,tel:s.Phone},e.total=h(),e.items=u.map((function(e){return{id:e.item.id,nombre:e.item.title,precio:e.item.price}})),g().collection("orders").add(e).then((function(e){a(e.id)})),O()}()},children:"Enviar Orden"})]})})]})};c(71);var A=function(){return Object(d.jsx)("div",{className:" border border-3 border-primary",children:Object(d.jsx)("center",{style:{flexWrap:"wrap",with:"100%",minHeight:"100%",alignItem:"center"},children:Object(d.jsx)(u,{children:Object(d.jsxs)(C.BrowserRouter,{children:[Object(d.jsx)(f,{}),Object(d.jsxs)(N.f,{children:[Object(d.jsx)(N.d,{exact:!0,path:"/",element:Object(d.jsx)(k,{})}),Object(d.jsx)(N.d,{exact:!0,path:"/category/:id",element:Object(d.jsx)(k,{})}),Object(d.jsx)(N.d,{path:"/item/:id",element:Object(d.jsx)(B,{})}),Object(d.jsx)(N.d,{path:"/cart",element:Object(d.jsx)(T,{})})]})]})})})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,77)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(A,{})}),document.getElementById("root")),M()}},[[72,1,2]]]);
//# sourceMappingURL=main.a7cb94e9.chunk.js.map